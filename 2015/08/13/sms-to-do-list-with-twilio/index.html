<!DOCTYPE HTML>

<html>
    <head>
        
            
                <title>SMS To Do List with Twilio</title>
            
        

        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="generator" content="Hugo 0.19-DEV" />
        


        
        
            
                <meta name="description" content="Tai Chi, Code, and Whatever from Dan Kleiman">
            
        

        

  <meta name="twitter:card" content="summary"/>



<meta name="twitter:title" content="SMS To Do List with Twilio"/>
<meta name="twitter:description" content="The other day, I had the pleasure of talking to someone who builds mobile apps with people in developing countries so that community health workers can deliver medical information and collect data.

As were talking about the technical challenges and logistical challenges (provisioning hundreds of mobile phones and numbers in one go in a country where you have no presence, e.g.), I have a pretty clear mental model of a basic CRUD app distilled down to Android&hellip;and then he said something that changed how I thought about the entire problem:

Some of their programs are limited to SMS-only communication. No smartphones, no apps, just text.

"/>
<meta name="twitter:site" content="@Dan_Kleiman"/>


        <meta property="og:title" content="SMS To Do List with Twilio" />
<meta property="og:description" content="The other day, I had the pleasure of talking to someone who builds mobile apps with people in developing countries so that community health workers can deliver medical information and collect data.

As were talking about the technical challenges and logistical challenges (provisioning hundreds of mobile phones and numbers in one go in a country where you have no presence, e.g.), I have a pretty clear mental model of a basic CRUD app distilled down to Android&hellip;and then he said something that changed how I thought about the entire problem:

Some of their programs are limited to SMS-only communication. No smartphones, no apps, just text.

" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/dankleiman.github.io/2015/08/13/sms-to-do-list-with-twilio" />



<meta property="article:published_time" content="2015-08-13T19:45:40-04:00"/>
<meta property="article:modified_time" content="2015-08-13T19:45:40-04:00"/>











        
<meta itemprop="name" content="SMS To Do List with Twilio">
<meta itemprop="description" content="The other day, I had the pleasure of talking to someone who builds mobile apps with people in developing countries so that community health workers can deliver medical information and collect data.

As were talking about the technical challenges and logistical challenges (provisioning hundreds of mobile phones and numbers in one go in a country where you have no presence, e.g.), I have a pretty clear mental model of a basic CRUD app distilled down to Android&hellip;and then he said something that changed how I thought about the entire problem:

Some of their programs are limited to SMS-only communication. No smartphones, no apps, just text.

">


<meta itemprop="dateModified" content="2015-08-13T19:45:40-04:00" />
<meta itemprop="wordCount" content="1336">



<meta itemprop="keywords" content="BTC,BigQuery,Code,Courses and Events,Energy Arts,Events,Golang,Inner Form,Launch Academy,Learning,Meditation,Movement Practice,Octopress,Practice People,Practice Tip,Psychology,Qigong,Rails,RailsConf,Ruby,Security,Sinatra,Site,Small Business,Static Sites,Tai Chi,Trainerfly,Twilio,Xing Yi,1000 True Fans,5 Elements,An,BC,BJ Fogg,Ba Gua,Balance,Behavior Change,Bend the Bow,Bill Ryan,Breathing,Breathing Exercise,Breathing For Relaxation,Brookline Tai Chi,Bruce Frantzis,Bruce Lee,Business Tools,Cathy Kerr,Central Equilibrium,Cheng Man Ching,Chi,Chicago Tai Chi,Chinese Medicine,Cloud Hands,Conflict Resolution,Creativity,Crossfit,DPH,Daily Practice,David-Dorian Ross,Deliberate Practice,Design,Diaphragmatic Breathing,Don Ethan Miller,Dorothy Fitzer,Dr. Mark Cheng,Dragon and Tiger,Elephant Wrestling,Energies,Energy,Energy Arts,Energy Gates Dissolving Series,Enterprise of One,Entrepreneurship,Exercise Mp3,Eyes,Fall Prevention,Favorite Quotes,Feedback,Feng Zhiqiang,Five Movement Centers,Foundations of Relaxation,Fuzhong Li,Gaming,Gods Playing in the Clouds,Harvard Medical School,Harvard Medical School Guide,Health Month,Heath Brothers,Heaven and Earth,Hot Triggers,Immersion,Inc. Magazine,Inner Form,Inner Game of Tennis,Instructor Training,Intrinsic Motivation,Intuition,Isaac Kamins,Jane McGonigal,Ji,Josh Kaufman,Learning Tai Chi,Lee Scheele,Leverage,Lu,Marriage of Heaven and Earth,Master Wang Hao Da,Medicine,Meditate,Meditation,Meditation Practice,Mobile,Mobility,Moodle,Motivation,Myth of the Overworked Creative,Online Learning,Opening and Closing,Pain,Paul Cavel,Peng,Perfect Practice,Personal MBA,Personal Practice,Peter Wayne,Posture,Product Launch,Productivity,Pulsing,Push Hands,Qi,Qigong,Qigong Breathing,Qigong Practice,Qigong Radio,Qigong Youtube,Quantity,Ramit Sethi,Rhythm,Robert Tangora,Running a school,San Ti,Seasonal Practice,Sitting Practice,Spinal Qigong,Spiraling Energy Body,Spiritual Practice,Standing Qigong,Standing Series,Stanford,State of the Art,Stretch,Swing,Swings,Switch,Systems,T&#39;ai Chi Ch&#39;uan,T&#39;ai Chi for Health and Happiness,TED talks,Tai Chi,Tai Chi Classics,Tai Chi Equipment Training,Tai Chi Mastery Program,Tai Chi Postures,Tai Chi Practice,Tai Chi Principles,Tai Chi Research,Tai Chi Teacher,Taoist Arts,TechCrunch,Technology,The Tools,Tony Schwartz,Traditional Chinese Medicine,Trainerfly Backstory,Travel,Vancouver,Vision,Visual Training,Week,Wordpress,Wu Jianquan,Wu Short Form Instructor Training 2011,Yoga,Your Practice,Z Health,alignments,anxiety,case study,chi gung,depression,dissolving,energy gates,energy management,fear,feet,flexibility,four points,joint mobility,kwa,learning,mind,neigong,practice,practice tips,problem solving,relaxation,rooting,seminars,sinking,small business marketing,song,spine,standing,stress,teaching,twisting,xingyi,yin and yang,zhong ding," />

        

        
            
        

        
        
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css">
            <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:400,800,900|Source+Sans+Pro:400,700">
            <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.25/jquery.fancybox.min.css">
            <link rel="stylesheet" href="dankleiman.github.io/css/main.css">
            <link rel="stylesheet" href="dankleiman.github.io/css/add-on.css">
        

        
            
                
            
        

        
            
        
    </head>
    <body>

      
      <div id="wrapper">

    
    
<header id="header">
    
      <h1><a href="/dankleiman.github.io/">post</a></h1>
    

    <nav class="links">
        <ul>
            
                <li>
                    <a href="/dankleiman.github.io/">
                            <i class="fa fa-home">&nbsp;</i>Home
                    </a>
                </li>
            
                <li>
                    <a href="/dankleiman.github.io/about/">
                            <i class="fa fa-id-card-o">&nbsp;</i>About
                    </a>
                </li>
            
                <li>
                    <a href="/dankleiman.github.io/post/">
                            <i class="fa fa-newspaper-o">&nbsp;</i>Blog
                    </a>
                </li>
            
                <li>
                    <a href="/dankleiman.github.io/categories/">
                            <i class="fa fa-sitemap">&nbsp;</i>Categories
                    </a>
                </li>
            
        </ul>
    </nav>
    <nav class="main">
        <ul>
            
            <li id="share-nav" class="share-menu" style="display:none;">
                <a class="fa-share-alt" href="#share-menu">Share</a>
            </li>
            
            <li class="search">
                <a class="fa-search" href="#search">Search</a>
                <form id="search" method="get" action="//google.com/search">
                    <input type="text" name="q" placeholder="Search" />
                    <input type="hidden" name="as_sitesearch" value="/dankleiman.github.io/">
                </form>
            </li>
            <li class="menu">
                <a class="fa-bars" href="#menu">Menu</a>
            </li>
        </ul>
    </nav>
</header>


<section id="menu">

    
        <section>
            <form class="search" method="get" action="//google.com/search">
                <input type="text" name="q" placeholder="Search" />
                <input type="hidden" name="as_sitesearch" value="/dankleiman.github.io/">
            </form>
        </section>

    
        <section>
            <ul class="links">
                
                    <li>
                        <a href="/dankleiman.github.io/">
                            <h3>
                                <i class="fa fa-home">&nbsp;</i>Home
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/dankleiman.github.io/about/">
                            <h3>
                                <i class="fa fa-id-card-o">&nbsp;</i>About
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/dankleiman.github.io/post/">
                            <h3>
                                <i class="fa fa-newspaper-o">&nbsp;</i>Blog
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/dankleiman.github.io/categories/">
                            <h3>
                                <i class="fa fa-sitemap">&nbsp;</i>Categories
                            </h3>
                        </a>
                    </li>
                
            </ul>
        </section>

    
        <section id="recent-posts">
            <div class="mini-posts">
                <header>
                    <h3>Recent Posts</h3>
                </header>
                

                
                    
                

                
                        <article class="mini-post">
                            <header>
                                <h3><a href="/dankleiman.github.io/2017/10/30/top-n-per-group-in-bigquery">Top N Per Group in BigQuery</a></h3>
                                
                                <time class="published" datetime=
                                    '2017-10-30'>
                                    October 30, 2017</time>
                            </header>
                            

                        </article>
                
                        <article class="mini-post">
                            <header>
                                <h3><a href="/dankleiman.github.io/2017/10/06/dont-blow-your-bigquery-budget-on-unknown-data">Don&#39;t Blow Your BigQuery Budget on Unknown Data!</a></h3>
                                
                                <time class="published" datetime=
                                    '2017-10-06'>
                                    October 6, 2017</time>
                            </header>
                            

                        </article>
                
                        <article class="mini-post">
                            <header>
                                <h3><a href="/dankleiman.github.io/2017/02/12/gobridge-with-bill-kennedy">GoBridge with Bill Kennedy</a></h3>
                                
                                <time class="published" datetime=
                                    '2017-02-12'>
                                    February 12, 2017</time>
                            </header>
                            

                        </article>
                
                        <article class="mini-post">
                            <header>
                                <h3><a href="/dankleiman.github.io/2016/12/29/my-5-strategies-for-learning-go-in-2017">My 5 Strategies for Learning Go in 2017</a></h3>
                                
                                <time class="published" datetime=
                                    '2016-12-29'>
                                    December 29, 2016</time>
                            </header>
                            

                        </article>
                
                        <article class="mini-post">
                            <header>
                                <h3><a href="/dankleiman.github.io/2016/09/24/rails-security-exercises-from-bearclaw">Rails Security Exercises from Bearclaw</a></h3>
                                
                                <time class="published" datetime=
                                    '2016-09-24'>
                                    September 24, 2016</time>
                            </header>
                            

                        </article>
                

                
                    <a href=
                        
                            /post/
                        
                        class="button">View more posts</a>
                
            </div>
        </section>

    
        
</section>

    <section id="share-menu">
    <section id="social-share-nav">
        <ul class="links">
            <header>
                <h3>Share this post <i class="fa fa-smile-o"></i></h3>
            </header>
            


<li>
  <a href="//twitter.com/share?url=%2fdankleiman.github.io%2f2015%2f08%2f13%2fsms-to-do-list-with-twilio&text=SMS%20To%20Do%20List%20with%20Twilio&via=Dan_Kleiman" target="_blank" class="share-btn twitter">
    <i class="fa fa-twitter"></i>
    <p>Twitter</p>
    </a>
</li>


<li>
  <a href="//plus.google.com/share?url=%2fdankleiman.github.io%2f2015%2f08%2f13%2fsms-to-do-list-with-twilio" target="_blank" class="share-btn google-plus">
    <i class="fa fa-google-plus"></i>
    <p>Google+</p>
  </a>
</li>


<li>
  <a href="//www.facebook.com/sharer/sharer.php?u=%2fdankleiman.github.io%2f2015%2f08%2f13%2fsms-to-do-list-with-twilio" target="_blank" class="share-btn facebook">
    <i class="fa fa-facebook"></i>
    <p>Facebook</p>
    </a>
</li>


<li>
  <a href="//reddit.com/submit?url=%2fdankleiman.github.io%2f2015%2f08%2f13%2fsms-to-do-list-with-twilio&title=SMS%20To%20Do%20List%20with%20Twilio" target="_blank" class="share-btn reddit">
    <i class="fa fa-reddit-alien"></i>
    <p>Reddit</p>
  </a>
</li>


<li>
  <a href="//www.linkedin.com/shareArticle?url=%2fdankleiman.github.io%2f2015%2f08%2f13%2fsms-to-do-list-with-twilio&title=SMS%20To%20Do%20List%20with%20Twilio" target="_blank" class="share-btn linkedin">
      <i class="fa fa-linkedin"></i>
      <p>LinkedIn</p>
    </a>
</li>


<li>
  <a href="//www.stumbleupon.com/submit?url=%2fdankleiman.github.io%2f2015%2f08%2f13%2fsms-to-do-list-with-twilio&title=SMS%20To%20Do%20List%20with%20Twilio" target="_blank" class="share-btn stumbleupon">
    <i class="fa fa-stumbleupon"></i>
    <p>StumbleUpon</p>
  </a>
</li>


<li>
  <a href="//www.pinterest.com/pin/create/button/?url=%2fdankleiman.github.io%2f2015%2f08%2f13%2fsms-to-do-list-with-twilio&description=SMS%20To%20Do%20List%20with%20Twilio" target="_blank" class="share-btn pinterest">
    <i class="fa fa-pinterest-p"></i>
    <p>Pinterest</p>
  </a>
</li>


<li>
  <a href="mailto:?subject=Check out this post by &body=%2fdankleiman.github.io%2f2015%2f08%2f13%2fsms-to-do-list-with-twilio" target="_blank" class="share-btn email">
    <i class="fa fa-envelope"></i>
    <p>Email</p>
  </a>
</li>

        </ul>
    </section>
</section>

    
    <div id="main">
        
        
        <article class="post">
  <header>
    <div class="title">
        
            <h1><a href="/dankleiman.github.io/2015/08/13/sms-to-do-list-with-twilio">SMS To Do List with Twilio</a></h1>
            
        
        
    </div>
    <div class="meta">
        

        <time class="published"
            datetime='2015-08-13'>
            August 13, 2015</time>
        <span class="author"></span>
        
            <p>7 minute read</p>
        
        
    </div>
</header>


  
    <section id="social-share">
      <ul class="icons">
        


<li>
  <a href="//twitter.com/share?url=%2fdankleiman.github.io%2f2015%2f08%2f13%2fsms-to-do-list-with-twilio&text=SMS%20To%20Do%20List%20with%20Twilio&via=Dan_Kleiman" target="_blank" class="share-btn twitter">
    <i class="fa fa-twitter"></i>
    <p>Twitter</p>
    </a>
</li>


<li>
  <a href="//plus.google.com/share?url=%2fdankleiman.github.io%2f2015%2f08%2f13%2fsms-to-do-list-with-twilio" target="_blank" class="share-btn google-plus">
    <i class="fa fa-google-plus"></i>
    <p>Google+</p>
  </a>
</li>


<li>
  <a href="//www.facebook.com/sharer/sharer.php?u=%2fdankleiman.github.io%2f2015%2f08%2f13%2fsms-to-do-list-with-twilio" target="_blank" class="share-btn facebook">
    <i class="fa fa-facebook"></i>
    <p>Facebook</p>
    </a>
</li>


<li>
  <a href="//reddit.com/submit?url=%2fdankleiman.github.io%2f2015%2f08%2f13%2fsms-to-do-list-with-twilio&title=SMS%20To%20Do%20List%20with%20Twilio" target="_blank" class="share-btn reddit">
    <i class="fa fa-reddit-alien"></i>
    <p>Reddit</p>
  </a>
</li>


<li>
  <a href="//www.linkedin.com/shareArticle?url=%2fdankleiman.github.io%2f2015%2f08%2f13%2fsms-to-do-list-with-twilio&title=SMS%20To%20Do%20List%20with%20Twilio" target="_blank" class="share-btn linkedin">
      <i class="fa fa-linkedin"></i>
      <p>LinkedIn</p>
    </a>
</li>


<li>
  <a href="//www.stumbleupon.com/submit?url=%2fdankleiman.github.io%2f2015%2f08%2f13%2fsms-to-do-list-with-twilio&title=SMS%20To%20Do%20List%20with%20Twilio" target="_blank" class="share-btn stumbleupon">
    <i class="fa fa-stumbleupon"></i>
    <p>StumbleUpon</p>
  </a>
</li>


<li>
  <a href="//www.pinterest.com/pin/create/button/?url=%2fdankleiman.github.io%2f2015%2f08%2f13%2fsms-to-do-list-with-twilio&description=SMS%20To%20Do%20List%20with%20Twilio" target="_blank" class="share-btn pinterest">
    <i class="fa fa-pinterest-p"></i>
    <p>Pinterest</p>
  </a>
</li>


<li>
  <a href="mailto:?subject=Check out this post by &body=%2fdankleiman.github.io%2f2015%2f08%2f13%2fsms-to-do-list-with-twilio" target="_blank" class="share-btn email">
    <i class="fa fa-envelope"></i>
    <p>Email</p>
  </a>
</li>

      </ul>
    </section>
  

  

  <div id="content">
    <p>The other day, I had the pleasure of talking to someone who builds mobile apps with people in developing countries so that community health workers can deliver medical information and collect data.</p>

<p>As were talking about the technical challenges and logistical challenges (provisioning hundreds of mobile phones and numbers in one go in a country where you have no presence, e.g.), I have a pretty clear mental model of a basic CRUD app distilled down to Android&hellip;and then he said something that changed how I thought about the entire problem:</p>

<p><strong>Some of their programs are limited to SMS-only communication.</strong> No smartphones, no apps, just text.</p>

<p></p>

<p>How do you go about guiding someone through a decision tree or collecting form submissions via SMS?</p>

<p>By coincidence, I had just started reading <a href="https://pragprog.com/book/dccar2/build-awesome-command-line-applications-in-ruby-2">a book about building command line apps</a> and I think that&rsquo;s how the lightbulb went off for me.</p>

<p>As a developer, I spend a lot of time in front of a command prompt. Many of the more experienced devs I know wouldn&rsquo;t want to touch anything other than the command line to do the bulk of their work &ndash; <strong>and they are navigating an application interface largely built around entering a single text command at a time</strong>, just like our SMS-constrained health workers.</p>

<p>In <em>Build Awesome Command-Line Applications in Ruby 2</em>, one of the first sample projects is a to do list app, from the command line.</p>

<p>Your basic set up allows you to add items to the list, retrieve the whole list, and mark items as complete. As I was building it out, I also wanted to delete things, because I found that more satisfying.</p>

<p>Once the idea of an interactive SMS app and the command line to do list fused in my head, I thought it would be fun to write a simple, somewhat interactive program that was all SMS-based.</p>

<h2 id="twilio-for-easy-sms-integration">Twilio for Easy SMS Integration</h2>

<p>Twilio is a service that allows you to send and receive voice and SMS through their API. They have awesome documentation for a bunch of different languages and great small project tutorials like the one I was about to tackle.</p>

<p>I stumbled across <a href="https://www.twilio.com/blog/2014/10/broadcast-text-and-picture-messages-using-ruby-google-spreadsheets-twilio.html">this one about sending out baby announcements</a> as I was working and I found it very useful. I was all on board with the google-sheets-as-backend until I got past reading and started trying to write to the sheet. That was too complex for this little project!</p>

<p><strong>Diving into Twilio, all I had to do was set up a web endpoint to receive messages and write some simple code to generate a reply.</strong> That&rsquo;s it, one controller action!</p>

<p>Here&rsquo;s what I used:</p>

<ul>
<li><a href="https://www.twilio.com/blog/2014/02/twilio-on-rails-integrating-twilio-with-your-rails-4-app.html">Set up twilio and Rails</a></li>
<li><a href="https://www.twilio.com/blog/2013/10/test-your-webhooks-locally-with-ngrok.html">Get your local endpoints online with Ngrok</a></li>
<li>Write your application logic in the Rails app, just like you were receiving and responding to any normal web request</li>
</ul>

<p>It really is that easy to get started. In all honesty, I did try to poke at the problem from a non-Rails angle for a little bit at first, but I wanted to focus on the Twilio side of things instead. Note to self: I&rsquo;m getting too comfortable with Rails conventions!</p>

<h2 id="one-web-endpoint">One Web Endpoint</h2>

<p>Here&rsquo;s the controller I wrote to handle incoming messages from the Twilio API and respond with TwiML, Twilio&rsquo;s own version of XML:</p>

<p>```ruby Message Controller
class MessagesController &lt; ApplicationController
  def index
    initialize_command(params)
    twiml = Twilio::TwiML::Response.new do |r|
      r.Message @command.execute ? @command.response : &lsquo;Sorry something went wrong&rsquo;
    end
    render text: twiml.text
  end</p>

<p>private</p>

<p># build a message and command from incoming params that can be executed to deliver the response
  def initialize_command(message)
    message = Message.new(params)
    @command = begin
      &ldquo;#{message.command.capitalize}Command&rdquo;.constantize.new(message)
    rescue
      HelpCommand.new(message)
    end
  end
end</p>

<pre><code>The twilio-ruby gem give you wrappers for the response object, so there's not a lot of heavy lifting to be done.

Responding to Commands
----------------------

In command line apps, you get a limited number of valid options and a rigid structure to follow when you're executing commands -- something along the lines of [command] [flags] [arguments].

Here, I wanted to follow a similar convention, at least as far as separating the commands from the message that was being sent.

When I talked to app developer about SMS-based form submission, he said they basically rely on the same thing. **You have to develop a convention for setting apart your commands or your form field identifiers from the data that is being sent.**

We serialize data for web requests all the time, the only difference is that here we need to guide the user into compliance with those conventions because they just have a big text box.

For starters, I decided that I would:

- adopt a convetion of commands coming first, surrounded by * characters on each side, followed by the message
- use &quot;help&quot; command as a catch-all to rescue any user input that didn't follow the command/message convention
- write helpful, specific prompts for each valid command to ensure that a user always gets a reply and that the reply to invalid commands leads them towards valid ones

To model the command/response structure, I copied a pattern we've used often at work: start with a base class that to initialize the command objects, then create subclasses for each command that all know how to &quot;execute&quot; and &quot;respond&quot;.

Inside the &quot;execute&quot; and &quot;response&quot; methods, you can then define unique behavior for each command, but in the controller code above, for example, you simple have to make calls like &quot;command.execute&quot; and &quot;command.response.&quot;

So, for example, when I parse a message that looks like this

&gt;\*new\* add something to the list

a NewCommand object is created. When it's executed, the new to do list item is saved to the database, and the response is returned, telling the user that their new to do list task has been added.

```ruby New Command
class NewCommand &lt; Command

  def execute
   @item = Item.new(item_options)
   @item.save!
  end

  def response
    &quot;Task added: #{@item.description}&quot;
  end
end
</code></pre>

<p>If they want to see a list of all their items, they just need to text</p>

<blockquote>
<p>*list*</p>
</blockquote>

<p>and the ListCommand responds with a list of their items or a prompt to add something if there aren&rsquo;t any items:</p>

<p>```ruby List Command
class ListCommand &lt; Command</p>

<p>def execute
    @list = Item.where(from: @message.from).order(:created_at)
  end</p>

<p>def response
    if @list.empty?
      &ldquo;Looks like you haven&rsquo;t added anything yet. Create a new item with <em>new</em> followed by the item description.&rdquo;
    else
      items = []
      @list.each_with_index do |item, index|
        list = &ldquo;#{index + 1}: #{item.description}&rdquo;
        if item.completed_at.present?
          list += &ldquo;, (Completed: #{item.completed_at.to_date})&rdquo;
        end
        items &lt;&lt; list
      end
      items.join(&lsquo;, &lsquo;)
    end
  end</p>

<p>end
```</p>

<p>I also built out commands to mark items as complete and remove them from your to do list. Both take integer messages that correspond to the number of the item you get back from the list command.</p>

<p>So this command would remove the second item on your list:</p>

<blockquote>
<p>*remove* 2</p>
</blockquote>

<h2 id="debugging-twilio-apps">Debugging Twilio Apps</h2>

<p>One of the trickiest parts of even doing this simple app was figuring a good way to debug.</p>

<p>I <em>think</em> Twilio has some sandbox features, but at $00.0075 per message, I wasn&rsquo;t too concerned about cost. It was more an issue of figuring out the best way to test input, return values from methods and objects, and visualize the whole request/response cycle, since it is different than the usual web flow I&rsquo;m used to.</p>

<p>A couple of things I found helpful:</p>

<ul>
<li>Creating a view to render the response for the controller, so instead of sending the response back to the texter through Twilio, I could view and debug output locally in the browser</li>
<li>Reading the Twilio error logs &ndash; they have very clear inbound and outbound message logs that give you insight into the headers, parameters, and bodies of the requests and responses in your app</li>
<li><a href="http://apidock.com/rails/ActiveSupport/CoreExtensions/Hash/to_query">to_query</a> to turn params hashes into query strings that I could add to my urls in the browser during local testing, especially because this is a typical incoming request query string:</li>
</ul>

<blockquote>
<p>/messages?ToCountry=US&amp;ToState=MA&amp;SmsMessageSid=SMe40c71a5a09f1bad9ff702fce90b1d9d&amp;NumMedia=0&amp;ToCity=ROXBURY&amp;FromZip=1096&amp;SmsSid=SMe40c71a5a09f1bad9ff702fce90b1d9d&amp;FromState=MA&amp;SmsStatus=received&amp;FromCity=BOSTON&amp;Body=*list*FromCountry=US&amp;To=8573992266&amp;ToZip=1097&amp;NumSegments=1&amp;MessageSid=SMe40c71a5a09f1bad9ff702fce90b1d9d&amp;AccountSid=AC428abc24c52ac55ff5cd98b68bd6a5e7&amp;From=7811234567&amp;ApiVersion=2010-04-01</p>
</blockquote>

<h2 id="check-out-the-code">Check out the Code</h2>

<p>If you want to see more, <a href="https://github.com/dankleiman/sms_todo">here&rsquo;s the code</a>.</p>
  </div>

  <footer>
    <ul class="stats">
    
        

        
        
            <li>
                
                
                    

                    

                    
                        <i class="fa fa-sitemap">&nbsp;</i>
                    

                    
                        Categories
                    
                
            </li>
        
    

    
    
        <li><a href='/dankleiman.github.io/categories/code'>Code</a></li>
    
        <li><a href='/dankleiman.github.io/categories/twilio'>Twilio</a></li>
    
</ul>

  </footer>

</article>


<ul class="actions pagination">
    
        <li><a href="/dankleiman.github.io/2015/04/29/10-of-my-favorite-talks-from-railsconf-2015"
                class="button big previous">10 of My Favorite Talks from RailsConf 2015</a></li>
    

    
        <li><a href="/dankleiman.github.io/2015/08/29/text-me-when-youre-done-twilio-for-notifications-of-long-running-dev-tasks"
                class="button big next">Text Me When You&#39;re Done: Twilio for Notifications of Long-Running Dev Tasks</a></li>
    
</ul>


    </div>
    
<section id="sidebar">

  
  <section id="intro">
    
    
      
        <a href='/dankleiman.github.io/'><img src="/dankleiman.github.io/img/main/headshot.jpg" class="intro-circle" width="150" alt="Dan Kleiman" /></a>
      
    
    
      <header>
        <h2>Dan Kleiman</h2>
        <p>Posts about code and work and some tai chi archives too</p>
      </header>
    
    
      <ul class="icons">
        
          <li>
            <a href="" type="application/rss+xml" target="_blank" title="RSS" class="fa fa-rss"></a>
          </li>
        
        
  <li><a href="//github.com/dankleiman" target="_blank" title="GitHub" class="fa fa-github"></a></li>

























  <li><a href="//linkedin.com/in/dlkleiman" target="_blank" title="LinkedIn" class="fa fa-linkedin"></a></li>













  <li><a href="//reddit.com/user/upalready" target="_blank" title="Reddit" class="fa fa-reddit"></a></li>





















  <li><a href="//twitter.com/Dan_Kleiman" target="_blank" title="Twitter" class="fa fa-twitter"></a></li>













  <li><a href="mailto:info@dankleiman.com" title="Email" class="fa fa-envelope"></a></li>


      </ul>
    
  </section>

  
  <section id="recent-posts">
    <div class="mini-posts">
      <header>
        <h3>Recent Posts</h3>
      </header>
      <div class="posts-container">
        

        
          
        

        
          <article class="mini-post">
            <header>
              <h3>
                <a href="/dankleiman.github.io/2017/10/30/top-n-per-group-in-bigquery">Top N Per Group in BigQuery</a>
              </h3>
              
              <time class="published" datetime='2017-10-30'>
                October 30, 2017
              </time>
            </header>
            

          </article>
        
          <article class="mini-post">
            <header>
              <h3>
                <a href="/dankleiman.github.io/2017/10/06/dont-blow-your-bigquery-budget-on-unknown-data">Don&#39;t Blow Your BigQuery Budget on Unknown Data!</a>
              </h3>
              
              <time class="published" datetime='2017-10-06'>
                October 6, 2017
              </time>
            </header>
            

          </article>
        
          <article class="mini-post">
            <header>
              <h3>
                <a href="/dankleiman.github.io/2017/02/12/gobridge-with-bill-kennedy">GoBridge with Bill Kennedy</a>
              </h3>
              
              <time class="published" datetime='2017-02-12'>
                February 12, 2017
              </time>
            </header>
            

          </article>
        
          <article class="mini-post">
            <header>
              <h3>
                <a href="/dankleiman.github.io/2016/12/29/my-5-strategies-for-learning-go-in-2017">My 5 Strategies for Learning Go in 2017</a>
              </h3>
              
              <time class="published" datetime='2016-12-29'>
                December 29, 2016
              </time>
            </header>
            

          </article>
        
          <article class="mini-post">
            <header>
              <h3>
                <a href="/dankleiman.github.io/2016/09/24/rails-security-exercises-from-bearclaw">Rails Security Exercises from Bearclaw</a>
              </h3>
              
              <time class="published" datetime='2016-09-24'>
                September 24, 2016
              </time>
            </header>
            

          </article>
        
      </div>

      
        <a href=
          
            /post/
          
        class="button">View more posts</a>
      
    </div>
  </section>

  
  
  
  
    <section id="categories">
      <header>
        <h3>
          <a href="/categories/">Categories</a>
        </h3>
      </header>
        
          
        

        
        <p>
          <article>
            <header>
              
                <a href="/categories/tai-chi/">Tai Chi</a>
                <span style="float:right;">85</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/qigong/">Qigong</a>
                <span style="float:right;">74</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/movement-practice/">Movement Practice</a>
                <span style="float:right;">33</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/code/">Code</a>
                <span style="float:right;">27</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/small-business/">Small Business</a>
                <span style="float:right;">21</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/inner-form/">Inner Form</a>
                <span style="float:right;">14</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/practice-people/">Practice People</a>
                <span style="float:right;">12</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/practice-tip/">Practice Tip</a>
                <span style="float:right;">10</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/launch-academy/">Launch Academy</a>
                <span style="float:right;">9</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/psychology/">Psychology</a>
                <span style="float:right;">9</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/btc/">BTC</a>
                <span style="float:right;">5</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/events/">Events</a>
                <span style="float:right;">5</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/site/">Site</a>
                <span style="float:right;">5</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/trainerfly/">Trainerfly</a>
                <span style="float:right;">5</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/energy-arts/">Energy Arts</a>
                <span style="float:right;">3</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/twilio/">Twilio</a>
                <span style="float:right;">3</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/bigquery/">BigQuery</a>
                <span style="float:right;">2</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/golang/">Golang</a>
                <span style="float:right;">2</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/octopress/">Octopress</a>
                <span style="float:right;">2</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/rails/">Rails</a>
                <span style="float:right;">2</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/ruby/">Ruby</a>
                <span style="float:right;">2</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/static-sites/">Static Sites</a>
                <span style="float:right;">2</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/courses-and-events/">Courses and Events</a>
                <span style="float:right;">1</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/learning/">Learning</a>
                <span style="float:right;">1</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/meditation/">Meditation</a>
                <span style="float:right;">1</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/railsconf/">RailsConf</a>
                <span style="float:right;">1</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/security/">Security</a>
                <span style="float:right;">1</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/sinatra/">Sinatra</a>
                <span style="float:right;">1</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/xing-yi/">Xing Yi</a>
                <span style="float:right;">1</span>
              
            </header>
          </article>
        </p>
        
    </section>
  

  
  

  
  <section id="footer">
    
      <ul class="icons">
        
          <li>
            <a href="" type="application/rss+xml" target="_blank" title="RSS" class="fa fa-rss"></a>
          </li>
        
        
  <li><a href="//github.com/dankleiman" target="_blank" title="GitHub" class="fa fa-github"></a></li>

























  <li><a href="//linkedin.com/in/dlkleiman" target="_blank" title="LinkedIn" class="fa fa-linkedin"></a></li>













  <li><a href="//reddit.com/user/upalready" target="_blank" title="Reddit" class="fa fa-reddit"></a></li>





















  <li><a href="//twitter.com/Dan_Kleiman" target="_blank" title="Twitter" class="fa fa-twitter"></a></li>













  <li><a href="mailto:info@dankleiman.com" title="Email" class="fa fa-envelope"></a></li>


      </ul>
    
    <p class="copyright">
      
        &copy; 2017
        
          Dan Kleiman
        
      .
      Powered by <a href="//gohugo.io" target="_blank">Hugo</a>
    </p>
  </section>
</section>

    </div>
    <a id="back-to-top" href="#" class="fa fa-arrow-up fa-border fa-2x"></a>
    

    
      
    

    
    
      <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/skel/3.0.1/skel.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.25/jquery.fancybox.min.js"></script>
      <script src="dankleiman.github.io/js/util.js"></script>
      <script src="dankleiman.github.io/js/main.js"></script>
      <script src="dankleiman.github.io/js/backToTop.js"></script>
    

    
      
        
      
    

    
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>

